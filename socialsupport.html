<!DOCTYPE html> 
<head>
<meta charset="utf-8">
</head>

<style>
body {
  font-family: "Montserrat", sans-serif;
  font-size: 14px;
}

h2 {
  font-family: "Montserrat", sans-serif;
  font-size: 16px;
  //color: #707070;
}

#circle-text {
  font-family: "Montserrat", sans-serif;
  font-size: 12px;
  color: #707070;
}

#legend-text {
  font-family: "Montserrat", sans-serif;
  font-size: 12px;
  color: #707070;  
}

#resource-text {
  font-family: "Montserrat", sans-serif;
  font-size: 11px;
  color: #707070;  
}
.link {
    fill:none;
    stroke: #DDD;
    stroke-width:1px;
}  

axis text {
  font: 10px Montserrat;
}

.axis line, .axis path {
  fill: "black";
  stroke: #000;
  shape-rendering: crispEdges;
}

.button-back {
    width: 6em;
    height: 2em;
    border: 2px;
    font-family: "Montserrat", sans-serif;
    text-align: center;
    vertical-align: middle;
    font-size: 16px;
    color: #454545;
    border-color: #707070;
    background: #efefef;
    border-radius: 5px;
    position: absolute;
    line-height: 35px;
    margin-left: 50px;
    margin-top: 600px;
}
</style>

<body>

<h2> <center> Your Social Support Network: </center> </h2>

<div class="button-back" id = "button-back">Back</div>

<!-- load the d3.js library -->     
<script src="https://d3js.org/d3.v4.min.js"></script>

<!-- social support network code -->

<script>
/* Back button */     
var buttonBack = document.getElementById("button-back");
     
// Set up the page 
var margin = {top: 150, right: 20, bottom: 10, left: 650};
var width =  1475 - margin.left - margin.right;
var height = 650 - margin.top - margin.bottom;
// Create SVG
var svg = d3.select("body").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform",
          "translate(" + margin.left + "," + margin.top + ")");
// X and Y range + domain 
  var x = d3.scaleLinear().range([0, 750]);
  var y = d3.scaleLinear().range([750, 0]);
  
  x.domain([0, 50]);
  y.domain([0, 50]);
//array of circle coordinates, radius, color and name
var jsonCircles = [
   { "x_axis": -5, 
  "y_axis": 80, 
  "radius": 50, 
  "color" : "#f9e7da", 
  "name" : "Appraisal"}, //top left circle
   { "x_axis": -2, 
  "y_axis": 170, 
  "radius": 50, 
  "color" : "#f9e7da", 
  "name" : "Appraisal"}, //bottom left
{ "x_axis": 162, 
  "y_axis": 20, 
  "radius": 50, 
  "color" : "#eff2e2", 
  "name" : "Informational"}, //top right
   { "x_axis": 223, 
  "y_axis": 185, 
  "radius": 50, 
  "color" : "#ede6de", 
  "name" : "Emotional"}, //bottom left
{ "x_axis": 65, 
  "y_axis": 15, 
  "radius": 50, 
  "color" : "#e3e6e7", 
  "name" : "Instrumental"},
{ "x_axis": 60, 
  "y_axis": 238, 
  "radius": 50, 
  "color" : "#e3e6e7", 
  "name" : "Instrumental"},
{ "x_axis": 227, 
  "y_axis": 90, 
  "radius": 50, 
  "color" : "#ede6de", 
  "name" : "Emotional"},
{ "x_axis": 150, 
  "y_axis": 243, 
  "radius": 50, 
  "color" : "#eff2e2", 
  "name" : "Informational"}
];
//creating, appending and coloring the circles
var circles = svg.selectAll("circle", "id")
                          .data(jsonCircles)
                          .enter()
                          .append("circle")
      .attr("fill", "url(#grad)");
//creating the circles-position on the screen and size
var circleAttributes = circles
                       .attr("cx", function (d) { return d.x_axis; })
                      .attr("cy", function (d) { return d.y_axis; })
                       .attr("r", function (d) { return d.radius; })
      .style("fill", function (d) {return d.color;});
//Draws the overlapping circle
var overlapcircle = svg.append("circle")
                          .attr("cx", 112)
                          .attr("cy", 130)
                        .attr("r", 125)
      .attr("fill", "white");
/*******************************
    CREATE THE LABLES FOR CIRCLES - clockwise starting from bottom left circle labeled "Appraisal"
********************************/
//label for circle 1
svg.append("text")
  .attr("x", 10)
  .attr("y", 95)
  .text("Appraisal")
  .attr("id", "circle-text")
  .attr("fill", "black")
  .attr("transform", "translate (80, 108)" + "rotate(70)");
//label for circle 2
svg.append("text")
  .attr("x", 0)
  .attr("y", 50)
  .text("Appraisal")
  .attr("id", "circle-text")
  .attr("fill", "black")
  .attr("transform", "translate (-45, 85)" + "rotate(-65)");
//label for circle 3
svg.append("text")
  .attr("x", 40)
  .attr("y", 0)
  .text("Instrumental")
  .attr("id", "circle-text")
  .attr("fill", "black")
  .attr("transform", "translate (5, 57)" + "rotate(-23)");
//label for circle 4
svg.append("text")
  .attr("x", 100)
  .attr("y", -75)
  .text("Informational")
  .attr("id", "circle-text")
  .attr("fill", "black")
  .attr("transform", "translate (5, 48)" + "rotate(23)");
//label for circle 5
svg.append("text")
  .attr("x", 250)
  .attr("y", 0)
  .text("Emotional")
  .attr("id", "circle-text")
  .attr("fill", "black")
  .attr("transform", "translate (110, -165)" + "rotate(68)");
//label for circle 6
svg.append("text")
  .attr("x", 230)
  .attr("y", 120)
  .text("Emotional")
  .attr("id", "circle-text")
  .attr("fill", "black")
  .attr("transform", "translate (0, 360)" + "rotate(-65)");
//label for circle 7
svg.append("text")
  .attr("x", 60)
  .attr("y", 182)
  .text("Informational")
  .attr("id", "circle-text")
  .attr("fill", "black")
  .attr("transform", "translate (0, 100)" + "rotate(-20)");
//label for circle 8
svg.append("text")
  .attr("x", 110)
  .attr("y", 134)
  .text("Instrumental")
  .attr("id", "circle-text")
  .attr("fill", "black")
  .attr("transform", "translate (0, 50)" + "rotate(28)");

/*******************************
    GET SELECTED STRESSORS
********************************/
// Get the selected stressors from window URL 
var selectedStressorsArr = [];
var id = window.location.href.split('_');
console.log(id);
var len = id.length;
for(var i =0; i < len-1; i++) {
    console.log(i);
    selectedStressorsArr[i] = id.pop().replace(/%20/g, " ");
}
console.log(selectedStressorsArr);
buttonBack.addEventListener('click', function() {
    var array = "array";
    var stressorStr = "/";
    for (i in selectedStressorsArr) {
        stressorStr += "_" + selectedStressorsArr[i];
    }
    //console.log(stressorStr);
    location.href=URL_add_parameter("stressportrait_circles.html", array, stressorStr);
    //console.log(location);
});


/*******************************
    CREATE THE LEGENDS
  legend numbers go from top left to bottom right
********************************/
//adding legends
//width and height of each rectangle
var w = 120, h = 175;
//legend 1
var legend1 = svg.append("defs").append("svg:linearGradient").attr("id", "gradient").attr("x1", "100%").attr("y1", "0%").attr("x2", "100%").attr("y2", "100%").attr("spreadMethod", "pad");
legend1.append("stop").attr("offset", "0%").attr("stop-color", "#f9ccc5").attr("stop-opacity", 1);
legend1.append("stop").attr("offset", "100%").attr("stop-color", "#ed553b").attr("stop-opacity", 1);
//append rectangle legend to svg
svg.append("rect").attr("width", w - 100).attr("height", h - 100).style("fill", "url(#gradient)").attr("transform", "translate(500,-150)" + "rotate(90)");
//label for legend 1
svg.append("text")
  .attr("x", 425)
  .attr("y", -118)
  .text("commitments")
  .attr("id", "legend-text")
  .attr("fill", "black");
//legend 2
var legend2 = svg.append("defs").append("svg:linearGradient").attr("id", "gradient2").attr("x1", "100%").attr("y1", "0%").attr("x2", "100%").attr("y2", "100%").attr("spreadMethod", "pad");
legend2.append("stop").attr("offset", "0%").attr("stop-color", "#fae2b3").attr("stop-opacity", 1);
legend2.append("stop").attr("offset", "100%").attr("stop-color", "#f0a515").attr("stop-opacity", 1);
svg.append("rect").attr("width", w - 100).attr("height", h - 100).style("fill", "url(#gradient2)").attr("transform", "translate(600,-150)" + "rotate(90)");
//label for legend 2
svg.append("text")
  .attr("x", 525)
  .attr("y", -118)
  .text("connection")
  .attr("id", "legend-text")
  .attr("fill", "black");
//legend 3
var legend3 = svg.append("defs").append("svg:linearGradient")
  .attr("id", "gradient3")
  .attr("x1", "100%")
  .attr("y1", "0%")
  .attr("x2", "100%")
  .attr("y2", "100%")
  .attr("spreadMethod", "pad");
legend3.append("stop").attr("offset", "0%").attr("stop-color", "#bbe2e5").attr("stop-opacity", 1);
legend3.append("stop").attr("offset", "100%").attr("stop-color", "#0894a1").attr("stop-opacity", 1);
svg.append("rect").attr("width", w - 100).attr("height", h - 100).style("fill", "url(#gradient3)").attr("transform", "translate(700,-150)" + "rotate(90)");
//label for legend 3
svg.append("text")
  .attr("x", 625)
  .attr("y", -118)
  .text("care")
  .attr("id", "legend-text")
  .attr("fill", "black");
//legend 4
var legend4 = svg.append("defs").append("svg:linearGradient").attr("id", "gradient4").attr("x1", "100%").attr("y1", "0%").attr("x2", "100%").attr("y2", "100%").attr("spreadMethod", "pad");
legend4.append("stop").attr("offset", "0%").attr("stop-color", "#cde8d6").attr("stop-opacity", 1);
legend4.append("stop").attr("offset", "100%").attr("stop-color", "#47ab6c").attr("stop-opacity", 1);
svg.append("rect").attr("width", w - 100).attr("height", h - 100).style("fill", "url(#gradient4)").attr("transform", "translate(800,-150)" + "rotate(90)");
//label for legend 4
svg.append("text")
  .attr("x", 725)
  .attr("y", -118)
  .text("career")
  .attr("id", "legend-text")
  .attr("fill", "black");
//legend 5
var legend5 = svg.append("defs");
svg.append("rect").attr("width", w - 100).attr("height", h - 100).style("fill", "#ede6de").attr("transform", "translate(500,-110)" + "rotate(90)");
//label for legend 5
svg.append("text")
  .attr("x", 425)
  .attr("y", -75)
  .text("emotional")
  .attr("id", "legend-text")
  .attr("fill", "black");
//label for legend 5 line 2
svg.append("text")
  .attr("x", 425)
  .attr("y", -62)
  .text("support")
  .attr("id", "legend-text")
  .attr("fill", "black");
//legend 6
var legend5 = svg.append("defs");
svg.append("rect").attr("width", w - 100).attr("height", h - 100).style("fill", "#eff2e2").attr("transform", "translate(600,-110)" + "rotate(90)");
//label for legend 6
svg.append("text")
  .attr("x", 525)
  .attr("y", -75)
  .text("informational")
  .attr("id", "legend-text")
  .attr("fill", "black");
//label for legend 6 line 2
svg.append("text")
  .attr("x", 525)
  .attr("y", -62)
  .text("support")
  .attr("id", "legend-text")
  .attr("fill", "black");
//legend 7
var legend5 = svg.append("defs");
svg.append("rect").attr("width", w - 100).attr("height", h - 100).style("fill", "#e3e6e7").attr("transform", "translate(700,-110)" + "rotate(90)");
//label for legend 7
svg.append("text")
  .attr("x", 625)
  .attr("y", -75)
  .text("instrumental")
  .attr("id", "legend-text")
  .attr("fill", "black");
//label for legend 7 line 2
svg.append("text")
  .attr("x", 625)
  .attr("y", -62)
  .text("support")
  .attr("id", "legend-text")
  .attr("fill", "black");
//legend 8
var legend5 = svg.append("defs");
svg.append("rect").attr("width", w - 100).attr("height", h - 100).style("fill", "#f9e7da").attr("transform", "translate(800,-110)" + "rotate(90)");
//label for legend 8
svg.append("text")
  .attr("x", 725)
  .attr("y", -75)
  .text("appraisal")
  .attr("id", "legend-text")
  .attr("fill", "black");
//label for legend 8 line 2
svg.append("text")
  .attr("x", 725)
  .attr("y", -62)
  .text("support")
  .attr("id", "legend-text")
  .attr("fill", "black");

/**********************************************
  Creating the curved labels 
**********************************************/
//label for personal connections
svg.append("path")
    .attr("id", "personal") //Unique id of the path
    .attr("d", "M 0,300 A 200,200 0 0,1 400,300") //SVG path
    .style("fill", "none")
    .style("stroke", "none")
  .attr("transform", "translate(-90, -150)");

svg.append("text")
   .append("textPath") //append a textPath to the text element
    .attr("xlink:href", "#personal") //place the ID of the path here
    .style("text-anchor","left") //place the text halfway on the arc
    .attr("startOffset", "50%")
    .text("Personal Connections")
  .attr("id", "circle-text");

//label for on-campus resources
svg.append("path")
    .attr("id", "campus") //Unique id of the path
    .attr("d", "M 0,300 A 200,200 0 0,0 400,300") //SVG path
    .style("fill", "none")
    .style("stroke", "none")
  .attr("transform", "translate(-90, -175)");

svg.append("text")
   .append("textPath") //append a textPath to the text element
    .attr("xlink:href", "#campus") //place the ID of the path here
    .style("text-anchor","right") //place the text halfway on the arc
    .attr("startOffset", "25%")
    .text("Campus Resources")
  .attr("id", "circle-text");

/**********************************************
EXPLORING LINKING NODES TO WEBPAGES

Array for setting up  the link objects.
   Contains: 
    name: resource + #
    points: location where shapes are on screen
      Generally (though not always):
      (x, y): bottom left

    color: the color to be used (hue chosen by category)
    (#47ab6c = green (career), #f0a515 = yellow (connection), #0894a1 = blue (care), #ed553b = red (commitments))

    resourcei: resource + some number; used to print the text on the object, more than one of these indicates the stressor is printed on multiple lines
    category: category the resource belongs to (commitments, connection, care, career)
    name: full name of resource
    xlab, ylab, dx, dy: stores location of text 

**********************************************/
//array of on-campus resources by category
var arrayOfResources = [
   {
  "name" : "Dennis Learning Center",
  "color" : "#ed553b", 
  "support": "Instrumental", 
  "category" : "career", 
  "stressor" : "Homework/Assignment Management",
  "site" : "https://dennislearningcenter.osu.edu/",
  "x" : -60, 
"y" : 400,
"hgt" : 20,
"wid" : 138,
//label properties
"xlab" : -20,
"ylab" : 411,
"dx" : -30,
"dy" : ".35em"
}, {
  "name" : "COMM 2110",
  "color" : "#47ab6c", 
  "support": "Instrumental", 
  "category" : "career", 
  "stressor" : "Public Speaking and Presentation",
  "site" : "https://comm.osu.edu/courses/comm/2110",
  "x" : -197, 
"y" : 387,
"hgt" : 20,
"wid" : 75,
//label properties
"xlab" : -162,
"ylab" : 370,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "Buckeye Careers",
  "color" : "#47ab6c", 
  "support": "Informational", 
  "category" : "career", 
  "stressor" : "Career Anxiety",
  "site" : "https://careers.osu.edu/",
  "x" : -260, 
"y" : 198,
"hgt" : 20,
"wid" : 105,
//label properties
"xlab" : -222,
"ylab" : 178,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "Counseling and Consultation Services",
  "color" : "#47ab6c", 
  "support": "Emotional", 
  "category" : "career", 
  "stressor" : "Career Anxiety",
  "site" : "https://ccs.osu.edu/",
  "x" : -495, 
"y" : 144,
"hgt" : 20,
"wid" : 200,
//label properties
"xlab" : -460,
"ylab" : 125,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "Interview With a Buckeye",
  "color" : "#47ab6c", 
  "support": "Instrumental", 
  "category" : "career", 
  "stressor" : "Career Anxiety",
  "site" : "https://artsandsciences.osu.edu/news-events/events/interview-buckeye",
  "x" : -413, 
"y" : 398,
"hgt" : 20,
"wid" : 138,
//label properties
"xlab" : -375,
"ylab" : 378,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "Handshake",
  "color" : "#47ab6c", 
  "support": "Instrumental", 
  "category" : "career", 
  "stressor" : "Career Anxiety",
  "site" : "https://handshake.osu.edu/",
   "x" : -310, 
"y" : 358,
"hgt" : 20,
"wid" : 73,
//label properties
"xlab" : -272,
"ylab" : 339,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "Academic College's Career Services",
  "color" : "#47ab6c", 
  "support": "Instrumental", 
  "category" : "career", 
  "stressor" : "Career Anxiety",
  "site" : "https://artsandsciences.osu.edu/career-success",
  "x" : -220, 
"y" : 428,
"hgt" : 20,
"wid" : 200,
//label properties
"xlab" : -182,
"ylab" : 409,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "Scarlet and Gray Financial",
  "color" : "#47ab6c", 
  "support": "Informational", 
  "category" : "career", 
  "stressor" : "Personal Finances",
  "site" : "https://swc.osu.edu/services/financial-education/financial-coaching/",
   "x" : -494, 
"y" : 205,
"hgt" : 20,
"wid" : 148,
//label properties
"xlab" : -458,
"ylab" : 185,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "BuckeyeLink",
  "color" : "#47ab6c", 
  "support": "Instrumental", 
  "category" : "career", 
  "stressor" : "Personal Finances",
  "site" : "https://buckeyelink.osu.edu/",
  "x" : -287, 
"y" : 145,
"hgt" : 20,
"wid" : 75,
//label properties
"xlab" : -252,
"ylab" : 125,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "DTix",
  "color" : "#47ab6c", 
  "support": "Instrumental", 
  "category" : "career", 
  "stressor" : "Personal Finances",
  "site" : "https://activities.osu.edu/programs/dtix",
  "x" : -330, 
"y" : 195,
"hgt" : 20,
"wid" : 38,
//label properties
"xlab" : -292,
"ylab" : 175,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "Office of International Affairs",
  "color" : "#47ab6c", 
  "support": "Instrumental", 
  "category" : "career", 
  "stressor" : "VISA",
  "site" : "https://oia.osu.edu/",
  "x" : -424, 
"y" : 95,
"hgt" : 20,
"wid" : 155,
//label properties
"xlab" : -387,
"ylab" : 75,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "International Friendships",
  "color" : "#f0a515", 
  "support": "Emotional", 
  "category" : "connection", 
  "stressor" : "Loneliness/Homesickness",
  "site" : "https://ohiostate.ifiusa.org/",
  "x" : -500, 
"y" : 325,
"hgt" : 20,
"wid" : 140,
//label properties
"xlab" : -462,
"ylab" : 305,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "Wellness Coaching",
  "color" : "#f0a515", 
  "support": "Appraisal", 
  "category" : "connection", 
  "stressor" : "Social Life Improvement",
  "site" : "https://swc.osu.edu/services/wellness-coaching/",
  "x" : -460, 
"y" : 420,
"hgt" : 20,
"wid" : 108,
//label properties
"xlab" : -425,
"ylab" : 400,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "Student Involvement Fair",
  "color" : "#f0a515", 
  "support": "Informational", 
  "category" : "connection", 
  "stressor" : "Social Life Improvement",
  "site" : "https://activities.osu.edu/programs/major_campus_events/student_involvement_fairs/",
   "x" : -486,
 "y" : 270,
"hgt" : 20,
"wid" : 139,
//label properties
"xlab" : -450,
"ylab" : 250,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "Intramural Sports",
  "color" : "#f0a515", 
  "support": "Instrumental", 
  "category" : "connection", 
  "stressor" : "Extracurricular Activities",
  "site" : "https://recsports.osu.edu/intramural-sports",
"x" : -387, 
"y" : 295,
"hgt" : 20,
"wid" : 100,
//label properties
"xlab" : -350,
"ylab" : 275,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "OSU Dining Facilities",
  "color" : "#0894a1", 
  "support": "Instrumental", 
  "category" : "care", 
  "stressor" : "Healthy Eating",
  "site" : "https://dining.osu.edu/",
"x" : -325, 
"y" : 320,
"hgt" : 20,
"wid" : 118,
//label properties
"xlab" : -290,
"ylab" : 300,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "Nutrition Coaching",
  "color" : "#0894a1", 
  "support": "Appraisal", 
  "category" : "care", 
  "stressor" : "Healthy Eating",
  "site" : "https://swc.osu.edu/services/nutrition-education/nutrition-coaching/",
"x" : -248, 
"y" : 104,
"hgt" : 20,
"wid" : 105,
//label properties
"xlab" : -212,
"ylab" : 85,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "Wilce Student Health Center",
  "color" : "#0894a1", 
  "support": "Instrumental", 
  "category" : "care", 
  "stressor" : "Illness",
  "site" : "https://shs.osu.edu/",
"x" : -225, 
"y" : 244,
"hgt" : 20,
"wid" : 155,
//label properties
"xlab" : -190,
"ylab" : 225,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "CVS Clinic",
  "color" : "#0894a1", 
  "support": "Instrumental", 
  "category" : "care", 
  "stressor" : "Illness",
  "site" : "https://www.cvs.com/minuteclinic/clinic-locator/oh/columbus/2518.html?WT.mc_id=LS_MC_GOOGLE_2518",
 "x" : -388, 
"y" : 240,
"hgt" : 20,
"wid" : 66,
//label properties
"xlab" : -352,
"ylab" : 220,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "Wexner Medical Center",
  "color" : "#0894a1", 
  "support": "Instrumental", 
  "category" : "care", 
  "stressor" : "Illness",
  "site" : "https://wexnermedical.osu.edu/where-should-i-go-for-care",
"x" : -480, 
"y" : 60,
"hgt" : 20,
"wid" : 129,
//label properties
"xlab" : -445,
"ylab" : 40,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "Martha Morehouse Outpatient Care",
  "color" : "#0894a1", 
  "support": "Instrumental", 
  "category" : "care", 
  "stressor" : "Illness",
  "site" : "https://wexnermedical.osu.edu/locations-and-parking/afterhours-care-martha-morehouse-outpatient-care",
 "x" : -485, 
"y" : 31,
"hgt" : 20,
"wid" : 190,
//label properties
"xlab" : -450,
"ylab" : 12,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "RPAC",
  "color" : "#0894a1", 
  "support": "Instrumental", 
  "category" : "care", 
  "stressor" : "Physical Activity and Fitness",
  "site" : "https://recsports.osu.edu/facilities/recreation-and-physical-activity-center-rpac",
"x" : -200, 
"y" : 69,
"hgt" : 20,
"wid" : 45,
//label properties
"xlab" : -162,
"ylab" : 50,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "JO North",
  "color" : "#0894a1", 
  "support": "Instrumental", 
  "category" : "care", 
  "stressor" : "Physical Activity and Fitness",
  "site" : "https://recsports.osu.edu/facilities/jesse-owens-north-jon-recreation-center",
"x" : -198, 
"y" : 140,
"hgt" : 20,
"wid" : 55,
//label properties
"xlab" : -162,
"ylab" : 120,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "JO South",
  "color" : "#0894a1", 
  "support": "Instrumental", 
  "category" : "care", 
  "stressor" : "Physical Activity and Fitness",
  "site" : "https://recsports.osu.edu/facilities/jesse-owens-south-jos-recreation-center",
 "x" : -285, 
"y" : 269,
"hgt" : 20,
"wid" : 58,
//label properties
"xlab" : -250,
"ylab" : 250,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "North Recreation Center",
  "color" : "#0894a1", 
  "support": "Instrumental", 
  "category" : "care", 
  "stressor" : "Physical Activity and Fitness",
  "site" : "https://recsports.osu.edu/facilities/north-recreation-center",
"x" : -385, 
"y" : 170,
"hgt" : 20,
"wid" : 135,
//label properties
"xlab" : -350,
"ylab" : 150,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "Adventure Recreation Center",
  "color" : "#0894a1", 
  "support": "Instrumental", 
  "category" : "care", 
  "stressor" : "Physical Activity and Fitness",
  "site" : "https://recsports.osu.edu/facilities/adventure-recreation-center-arc",
 "x" : -435, 
"y" : 120,
"hgt" : 20,
"wid" : 158,
//label properties
"xlab" : -400,
"ylab" : 100,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "Younkin Success Center",
  "color" : "#ed553b", 
  "support": "Instrumental", 
  "category" : "commitments", 
  "stressor" : "Homework/Assignment Management",
  "site" : "http://younkinsuccess.osu.edu/",
"x" : -198, 
"y" : 170,
"hgt" : 20,
"wid" : 135,
//label properties
"xlab" : -162,
"ylab" : 150,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "Office of Disability Services",
  "color" : "#ed553b", 
  "support": "Instrumental", 
  "category" : "commitments", 
  "stressor" : "Homework/Assignment Management",
  "site" : "https://slds.osu.edu/",
"x" : -325, 
"y" : 220,
"hgt" : 20,
"wid" : 147,
//label properties
"xlab" : -290,
"ylab" : 200,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "Academic Advisors",
  "color" : "#ed553b", 
  "support": "Informational", 
  "category" : "commitments", 
  "stressor" : "Academic Performance",
  "site" : "https://advising.osu.edu/",
 "x" : -198, 
"y" : 320,
"hgt" : 20,
"wid" : 108,
//label properties
"xlab" : -162,
"ylab" : 300,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "Professors",
  "color" : "#ed553b", 
  "support": "Informational", 
  "category" : "commitments", 
  "stressor" : "Academic Performance",
  "site" : "https://www.osu.edu/facultystaff/",
"x" : -387, 
"y" : 370,
"hgt" : 20,
"wid" : 68,
//label properties
"xlab" : -350,
"ylab" : 350,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "Math and Statistics Learning Center",
  "color" : "#ed553b", 
  "support": "Instrumental", 
  "category" : "commitments", 
  "stressor" : "Academic Performance",
  "site" : "https://mslc.osu.edu/",
"x" : -198, 
"y" : 350,
"hgt" : 20,
"wid" : 193,
//label properties
"xlab" : -162,
"ylab" : 330,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "Writing Center",
  "color" : "#ed553b", 
  "support": "Instrumental", 
  "category" : "commitments", 
  "stressor" : "Academic Performance",
  "site" : "https://cstw.osu.edu/writing-center",
"x" : -185, 
"y" : 270,
"hgt" : 20,
"wid" : 83,
//label properties
"xlab" : -150,
"ylab" : 250,
"dx" : -30,
"dy" : "3em"
}, {
"name" : "Your Boss",
  "color" : "#ed553b", 
  "support": "Appraisal", 
  "category" : "commitments", 
  "stressor" : "Work-Study Balance",
  "site" : "",
"x" : -185, 
"y" : 30,
"hgt" : 20,
"wid" : 63,
//label properties
"xlab" : -150,
"ylab" : 10,
"dx" : -30,
"dy" : "3em"
}
];

/*******************************
    
CREATE THE OBJECTS CONTAINING THE RESOURCES
BASED ON THE SELECTED STRESSORS

********************************/

var g = svg.selectAll("g")
  	.data(arrayOfResources)
  	.enter().append("g");

var len = selectedStressorsArr.length;
for(var i = 0; i < len - 1; i++) {
	if(selectedStressorsArr[i] = arrayOfResources[i]){

g.append("a")
    .attr("class", "rect")
    .attr("xlink:href", function(d) {return d.site;})
    .append("rect") 
    .attr("x", function(d) {return d.x;})
    .attr("y", function(d) {return d.y;})
    .attr("height", function(d) {return d.hgt;})
    .attr("width", function(d) {return d.wid;})
    .style("fill", function (d) {return d.color;})
    .style("opacity", 0.8)
    .attr("rx", 10)
    .attr("ry", 10);

g.append("text")
    .attr("id", "resource-text")
    .data(arrayOfResources)
    .attr("x", function(d){return d.xlab})
    .attr("y", function(d){return d.ylab})
    .attr("dx", function(d){return d.dx})
    .attr("dy", function(d){return d.dy})    
.attr("fill", "#ffffff")
    .text(function(d) {return d.name;});
}
}
/**********************************************
Function used to pass the url to the next page
**********************************************/
function URL_add_parameter(url, param, value){
    var hash       = {};
    var parser     = document.createElement('a');
    parser.href    = url;
    var parameters = parser.search.split(/\?|&/);
    for(var i=0; i < parameters.length; i++) {
        if(!parameters[i])
            continue;
        var ary      = parameters[i].split('=');
        hash[ary[0]] = ary[1];
    }
    hash[param] = value;
    var list = [];  
    Object.keys(hash).forEach(function (key) {
        list.push(key + '=' + hash[key]);
    });
    parser.search = '?' + list.join('&');
    return parser.href;
};
</script>
</body>
</html>
